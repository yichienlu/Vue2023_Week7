import{g as d,p as e}from"./index-5511e744.js";const{VITE_URL:o,VITE_PATH:s}={VITE_URL:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"yclu",BASE_URL:"/Vue2023_Week7/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},l=d("cartStore",{state:()=>({cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},loadingItem:""}),actions:{getCarts(){e.get(`${o}/api/${s}/cart`).then(t=>{this.cart=t.data.data}).catch(t=>{console.log(t)})},addToCart(t,a){const c={product_id:t,qty:a};e.post(`${o}/api/${s}/cart/`,{data:c}).then(r=>{console.log(r.data),this.getCarts()}).catch(r=>{console.log(r)})},updateCartItem(t){const a={product_id:t.product.id,qty:t.qty};this.loadingItem=t.id,e.put(`${o}/api/${s}/cart/${t.id}`,{data:a}).then(c=>{this.cart=c.data.data,this.getCarts(),this.loadingItem=""}).catch(c=>{console.log(c)})},deleteCartItem(t){this.loadingItem=t.id,e.delete(`${o}/api/${s}/cart/${t.id}`).then(a=>{console.log("更新購物車",a.data),this.getCarts(),this.loadingItem=""}).catch(a=>{console.log(a)})},clearCart(){e.delete(`${o}/api/${s}/carts`).then(()=>{this.getCarts(),this.loadingItem=""}).catch(t=>{console.log(t)})},createOrder(){console.log({data:this.form}),e.post(`${o}/api/${s}/order`,{data:this.form}).then(t=>{console.log(t)}).catch(t=>{console.log(t)})},isPhone(t){return/^(09)[0-9]{8}$/.test(t)?!0:"需要正確的電話號碼"}},getters:{}});export{l as c};
